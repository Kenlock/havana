project_type: php
build:
  general_test:
    image: dangminhtruong/havana:test
    prepare:
      - npm install
test:
  eslint:
    ignore: true
    command: eslint --format=checkstyle
      --output-file=.framgia-ci-reports/eslint.xml
      routes --ext .js
deploy:
  rocketeer:
    image: framgiaciteam/deployer:2.0
    when:
      branch: develop
    app_image: dangminhtruong/havana:test
    run: docker build -t $PLUGIN_APP_IMAGE . && docker push $PLUGIN_APP_IMAGE
cache:
  nodejs:
    folder: node_modules
    file: package-lock.json
